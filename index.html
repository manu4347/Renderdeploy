<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vignan Lara College</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <span class="logo" data-target="home">Vignan Lara</span>
            <ul class="nav-links">
                <li><span data-target="home">Home</span></li>
                <li><span data-target="about">About Us</span></li>
                <li><span data-target="services">Announcements</span></li>
                <li><span data-target="contact">Contact</span></li>
            </ul>
            <button type="button" class="hamburger" aria-label="Toggle navigation menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>

    <div class="mobile-nav">
        <ul>
            <li><span data-target="home">Home</span></li>
            <li><span data-target="about">About Us</span></li>
            <li><span data-target="services">Announcements</span></li>
            <li><span data-target="contact">Contact</span></li>
        </ul>
    </div>

    <main>
        <section id="home" class="reveal">
            <div class="container hero-content">
                <h1>Welcome to Vignan Lara College</h1>
                <p>Empowering minds, fostering innovation, and building futures. Join our vibrant community of students, faculty, and leadership.</p>
                <button type="button" data-target="about">Explore Our Campus</button>
            </div>
        </section>

        <section id="about" class="reveal">
            <div class="container">
                <h2>About Vignan Lara</h2>
                <p>Vignan Lara College is dedicated to providing exceptional education and a holistic learning environment. We believe in nurturing talent, encouraging critical thinking, and promoting active participation from all members of our academic family ‚Äì students, faculty, and principal.</p>
                <div class="about-grid">
                    <div class="about-item">
                        <h3>Our Vision</h3>
                        <p>To be a premier educational institution recognized for excellence in academics, research, and community engagement, preparing socially responsible global citizens.</p>
                    </div>
                    <div class="about-item">
                        <h3>Our Mission</h3>
                        <p>To provide high-quality, value-based education, fostering an environment of innovation, collaboration, and continuous learning for students and faculty alike.</p>
                    </div>
                    <div class="about-item">
                        <h3>Interactive Ecosystem</h3>
                        <p>Our web application facilitates seamless communication and interaction, allowing students, faculty, and the principal to share updates, events, academic resources, and fee details efficiently.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="services" class="reveal">
            <div class="container">
                <h2>Latest Announcements & Events</h2>
                <p>Stay updated with the latest happenings, important notices, and academic schedules from Vignan Lara College. This section features events, class updates, and other crucial information for our community.</p>
                <div class="event-cards-grid" id="event-cards-container">
                    <!-- Placeholder cards - will be replaced by API data if successful -->
                    <div class="event-card">
                        <h3>Orientation Day for New Batch</h3>
                        <span class="date">October 26, 2023</span>
                        <p>Join us for an exciting orientation day to kickstart your journey at Vignan Lara! Meet faculty, explore campus, and understand your academic path.</p>
                        <button type="button" class="learn-more">View Details</button>
                    </div>
                    <div class="event-card">
                        <h3>Mid-Term Exam Schedule Released</h3>
                        <span class="date">October 20, 2023</span>
                        <p>The detailed schedule for the upcoming mid-term examinations has been published. Students are advised to check their respective department portals.</p>
                        <button type="button" class="learn-more">Check Schedule</button>
                    </div>
                    <div class="event-card">
                        <h3>Annual Tech Fest - InnovateX</h3>
                        <span class="date">November 15-17, 2023</span>
                        <p>InnovateX is back! Get ready for a spectacular display of innovation, workshops, and competitions. Register now and showcase your talent.</p>
                        <button type="button" class="learn-more">Register Now</button>
                    </div>
                    <div class="event-card">
                        <h3>Faculty Research Colloquium</h3>
                        <span class="date">November 05, 2023</span>
                        <p>A day dedicated to showcasing the latest research by our esteemed faculty members. Open to all students and researchers.</p>
                        <button type="button" class="learn-more">Learn More</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="reveal">
            <div class="container">
                <h2>Get in Touch</h2>
                <p>We're here to help! Whether you have questions about admissions, academic programs, or general inquiries, feel free to reach out to us. Our dedicated team is ready to assist students, faculty, and prospective visitors.</p>
                <div class="contact-content">
                    <div class="contact-form-container">
                        <h3>Send us a message</h3>
                        <form class="contact-form">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" placeholder="Enter your name" required>

                            <label for="email">Your Email</label>
                            <input type="email" id="email" placeholder="Enter your email" required>

                            <label for="subject">Subject</label>
                            <input type="text" id="subject" placeholder="Subject of your inquiry" required>

                            <label for="message">Message</label>
                            <textarea id="message" placeholder="Your message here..." required></textarea>

                            <button type="button">Send Message</button>
                        </form>
                    </div>
                    <div class="contact-info-container">
                        <h3>Our Details</h3>
                        <div class="contact-info">
                            <p><span>üìç</span> Vignan Lara College, Main Campus, <br>Guntur, Andhra Pradesh, India</p>
                            <p><span>üìû</span> +91-123-456-7890</p>
                            <p><span>üìß</span> info@vignanlara.edu</p>
                            <p><span>‚è∞</span> Mon - Sat: 9:00 AM - 5:00 PM</p>
                            <p><span>üè¢</span> Admissions Office: Ground Floor, Admin Block</p>
                            <p><span>üè´</span> Principal's Office: 2nd Floor, Main Building</p>
                        </div>
                        <div class="image-placeholder" style="margin-top: 30px;">ADD CAMPUS MAP</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2023 Vignan Lara College. All rights reserved. | Empowering Futures.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navElements = document.querySelectorAll('.nav-links span, .mobile-nav span, .logo, .hero-content button');
            const sections = document.querySelectorAll('section');
            const hamburger = document.querySelector('.hamburger');
            const mobileNav = document.querySelector('.mobile-nav');
            const header = document.querySelector('header');

            // --- Navigation Logic ---
            const scrollToSection = (targetId) => {
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    // Offset for fixed header
                    const headerOffset = header.offsetHeight;
                    const elementPosition = targetSection.getBoundingClientRect().top + window.pageYOffset;
                    const offsetPosition = elementPosition - headerOffset - 20; // Additional padding for better visibility

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: "smooth"
                    });
                }
                // Close mobile nav if open
                if (mobileNav.classList.contains('open')) {
                    mobileNav.classList.remove('open');
                    hamburger.classList.remove('open');
                    document.body.style.overflow = ''; // Re-enable scroll
                }
            };

            navElements.forEach(element => {
                element.addEventListener('click', (event) => {
                    const targetId = element.getAttribute('data-target');
                    if (targetId) {
                        scrollToSection(targetId);
                    }
                });
            });

            // --- Hamburger Menu Logic ---
            hamburger.addEventListener('click', () => {
                mobileNav.classList.toggle('open');
                hamburger.classList.toggle('open');
                if (mobileNav.classList.contains('open')) {
                    document.body.style.overflow = 'hidden'; // Prevent scrolling when mobile nav is open
                } else {
                    document.body.style.overflow = ''; // Re-enable scroll
                }
            });

            // Close mobile nav on outside click
            document.addEventListener('click', (event) => {
                const isClickInsideMobileNav = mobileNav.contains(event.target);
                const isClickOnHamburger = hamburger.contains(event.target) || event.target === hamburger;

                if (mobileNav.classList.contains('open') && !isClickInsideMobileNav && !isClickOnHamburger) {
                    mobileNav.classList.remove('open');
                    hamburger.classList.remove('open');
                    document.body.style.overflow = '';
                }
            });


            // --- Active Nav Link on Scroll ---
            const setActiveNavLink = () => {
                let currentActive = 'home';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - header.offsetHeight - 50; // Adjust for header height and some buffer
                    const sectionHeight = section.clientHeight;
                    if (pageYOffset >= sectionTop && pageYOffset < sectionTop + sectionHeight) {
                        currentActive = section.id;
                    }
                });

                document.querySelectorAll('.nav-links span').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-target') === currentActive) {
                        link.classList.add('active');
                    }
                });
                document.querySelectorAll('.mobile-nav span').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-target') === currentActive) {
                        link.classList.add('active');
                    }
                });
            };

            window.addEventListener('scroll', setActiveNavLink);
            // Set initial active link
            setActiveNavLink();


            // --- Reveal on Scroll Animation ---
            const revealElements = document.querySelectorAll('.reveal');

            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.2 // Trigger when 20% of the item is visible
            };

            const revealCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        observer.unobserve(entry.target); // Stop observing once revealed
                    }
                });
            };

            const revealObserver = new IntersectionObserver(revealCallback, observerOptions);
            revealElements.forEach(el => revealObserver.observe(el));

            // Manually activate home section immediately
            document.querySelector('#home').classList.add('active');


            // --- API Data Fetch for Announcements ---
            const eventCardsContainer = document.getElementById('event-cards-container');

            const fetchAnnouncements = async () => {
                try {
                    const response = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=4'); // Get 4 sample posts
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const data = await response.json();

                    // Clear existing placeholders
                    eventCardsContainer.innerHTML = '';

                    data.forEach((post, index) => {
                        const eventCard = document.createElement('div');
                        eventCard.classList.add('event-card');
                        eventCard.classList.add('reveal'); // Add reveal class for dynamic content
                        eventCard.style.transitionDelay = `${index * 0.1}s`; // Stagger animation

                        // Random date generation for realism
                        const today = new Date();
                        const randomDays = Math.floor(Math.random() * 30); // within next 30 days
                        const eventDate = new Date(today);
                        eventDate.setDate(today.getDate() + randomDays);
                        const formattedDate = eventDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });

                        eventCard.innerHTML = `
                            <h3>${post.title.charAt(0).toUpperCase() + post.title.slice(1)}</h3>
                            <span class="date">${formattedDate}</span>
                            <p>${post.body.charAt(0).toUpperCase() + post.body.slice(1).substring(0, 100)}...</p>
                            <button type="button" class="learn-more">Read More</button>
                        `;
                        eventCardsContainer.appendChild(eventCard);
                    });

                    // Re-observe newly added dynamic cards for reveal effect
                    document.querySelectorAll('.event-cards-grid .event-card').forEach(el => {
                        // Ensure elements are not observed multiple times
                        if (!el.classList.contains('observed')) {
                            revealObserver.observe(el);
                            el.classList.add('observed');
                        }
                    });

                } catch (error) {
                    // console.error('Failed to fetch announcements:', error); // Log for debugging, but not visible to user
                    // Crucial: Placeholders remain visible if fetch fails, no error message displayed to user.
                    // The initial static cards already fulfill this requirement.
                }
            };

            fetchAnnouncements();

            // --- Contact Form Submission (Placeholder) ---
            const contactForm = document.querySelector('.contact-form');
            if (contactForm) {
                const sendButton = contactForm.querySelector('button[type="button"]');
                sendButton.addEventListener('click', () => {
                    const name = document.getElementById('name').value;
                    const email = document.getElementById('email').value;
                    const subject = document.getElementById('subject').value;
                    const message = document.getElementById('message').value;

                    if (name && email && subject && message) {
                        alert('Thank you for your message! We will get back to you shortly.');
                        contactForm.reset();
                    } else {
                        alert('Please fill in all fields before sending.');
                    }
                });
            }

        });
    </script>

</body>
</html>